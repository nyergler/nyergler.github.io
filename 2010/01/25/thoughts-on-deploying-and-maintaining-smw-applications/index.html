<!doctype html><html lang=en><head>
<meta charset=utf-8>
<meta http-equiv=content-language content="en">
<meta name=viewport content="width=device-width,initial-scale=1">
<meta http-equiv=x-ua-compatible content="ie=edge">
<title>Thoughts on Deploying and Maintaining &lt;span class="caps">SMW&lt;/span> Applications &#183; Nathan R. Yergler</title>
<meta name=title content="Thoughts on Deploying and Maintaining <span class=&#34;caps&#34;>SMW</span> Applications &#183; Nathan R. Yergler">
<meta name=description content>
<link rel=canonical href=https://nyergler.github.io/2010/01/25/thoughts-on-deploying-and-maintaining-smw-applications/>
<link type=text/css rel=stylesheet href=/css/schemes/ocean.min.ff17c50528c7a4a8a8bb8ec41272d63eb936ecefb9ccfa6db45cd1f5cd8b1becf8606745f751ee0d322ac80c9cb96e58aa699b38aa44cff9d2a8b3ff4f05a7b5.css integrity="sha512-/xfFBSjHpKiou47EEnLWPrk27O+5zPpttFzR9c2LG+z4YGdF91HuDTIqyAycuW5YqmmbOKpEz/nSqLP/TwWntQ==">
<link type=text/css rel=stylesheet href=/css/compiled/main.min.84c4218572228cacf6182dc59fe08b5e1bcd599bb583bc56976aa0070f4cd8a4ff130ee2313074359bf6dba03b211e8c50df743d84ad551575fd0b9f849ec802.css integrity="sha512-hMQhhXIijKz2GC3Fn+CLXhvNWZu1g7xWl2qgBw9M2KT/Ew7iMTB0NZv226A7IR6MUN90PYStVRV1/QufhJ7IAg==">
<script>function loadPreferredAppearance(){localStorage.preferredAppearance==="dark"||!("preferredAppearance"in localStorage)&&window.matchMedia("(prefers-color-scheme: dark)").matches?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")}function setPreferredAppearance(a){a=="default"?localStorage.removeItem("preferredAppearance"):localStorage.preferredAppearance=a,loadPreferredAppearance()}loadPreferredAppearance(),window.matchMedia("(prefers-color-scheme: dark)").addListener(loadPreferredAppearance)</script>
<link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png>
<link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png>
<link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png>
<link rel=manifest href=/site.webmanifest>
<meta property="og:title" content="Thoughts on Deploying and Maintaining <span class=&#34;caps&#34;>SMW</span> Applications">
<meta property="og:description" content="In September or October of last year, I received an email from someone who had come across CC Teamspace and was wondering if there was a demo site available they could use to evaluate it.">
<meta property="og:type" content="article">
<meta property="og:url" content="https://nyergler.github.io/2010/01/25/thoughts-on-deploying-and-maintaining-smw-applications/"><meta property="article:section" content="posts">
<meta property="article:published_time" content="2010-01-25T21:24:51+00:00">
<meta property="article:modified_time" content="2010-01-25T21:24:51+00:00">
<meta name=twitter:card content="summary">
<meta name=twitter:title content="Thoughts on Deploying and Maintaining <span class=&#34;caps&#34;>SMW</span> Applications">
<meta name=twitter:description content="In September or October of last year, I received an email from someone who had come across CC Teamspace and was wondering if there was a demo site available they could use to evaluate it.">
<script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","articleSection":"Posts","name":"Thoughts on Deploying and Maintaining \u003cspan class=\u0022caps\u0022\u003eSMW\u003c\/span\u003e Applications","headline":"Thoughts on Deploying and Maintaining \u003cspan class=\u0022caps\u0022\u003eSMW\u003c\/span\u003e Applications","description":"In September or October of last year, I received an email from someone who had come across CC Teamspace and was wondering if there was a demo site available they could use to evaluate it.","inLanguage":"en","author":{"@type":"Person","name":"Nathan Yergler"},"creator":{"@type":"Person","name":"Nathan Yergler"},"copyrightHolder":"Nathan Yergler","copyrightYear":"2010","dateCreated":"2010-01-25T21:24:51\u002b00:00","datePublished":"2010-01-25T21:24:51\u002b00:00","dateModified":"2010-01-25T21:24:51\u002b00:00","url":"https:\/\/nyergler.github.io\/2010\/01\/25\/thoughts-on-deploying-and-maintaining-smw-applications\/","wordCount":"822","keywords":["cc","mediawiki","semantic mediawiki","smw"]}</script>
<meta name=author content="Nathan Yergler">
<link href=https://github.com/nyergler rel=me>
<link href=https://instagram.com/nyergler rel=me>
</head>
<body class="flex flex-col h-screen px-6 m-auto text-lg leading-7 bg-neutral text-neutral-900 sm:px-14 md:px-24 lg:px-32 dark:bg-neutral-800 dark:text-neutral max-w-7xl"><header class="flex justify-between py-6 font-semibold sm:items-center sm:py-10 text-neutral-900 dark:text-neutral">
<div>
<a class="hover:underline hover:underline-primary-500 hover:underline-thickness-bold hover:underline-offset-small" rel=me href=/>Nathan R. Yergler</a>
</div>
<nav>
<ul class="flex flex-col list-none sm:flex-row">
<li class="mb-1 text-right sm:mb-0 sm:mr-7 sm:last:mr-0">
<a class="hover:underline hover:underline-primary-500 hover:underline-thickness-bold hover:underline-offset-small" href=/about/ title="Oh hai.">Bio</a>
</li>
<li class="mb-1 text-right sm:mb-0 sm:mr-7 sm:last:mr-0">
<a class="hover:underline hover:underline-primary-500 hover:underline-thickness-bold hover:underline-offset-small" href=/posts/ title=Posts>Blog</a>
</li>
<li class="mb-1 text-right sm:mb-0 sm:mr-7 sm:last:mr-0">
<a class="hover:underline hover:underline-primary-500 hover:underline-thickness-bold hover:underline-offset-small" href=/prints/ title=Prints>Prints</a>
</li>
</ul>
</nav>
</header>
<main class=flex-grow>
<article class=max-w-prose>
<header>
<ol class="text-sm text-neutral-500 dark:text-neutral-400">
<li class="inline hidden">
<a class="hover:underline hover:underline-neutral-300 dark:underline-neutral-600" href=/>Nathan R. Yergler</a><span class="px-1 text-primary-500">/</span>
</li>
<li class=inline>
<a class="hover:underline hover:underline-neutral-300 dark:underline-neutral-600" href=/posts/>Posts</a><span class="px-1 text-primary-500">/</span>
</li>
<li class="inline hidden">
<a class="hover:underline hover:underline-neutral-300 dark:underline-neutral-600" href=/2010/01/25/thoughts-on-deploying-and-maintaining-smw-applications/>Thoughts on Deploying and Maintaining &lt;span class="caps">SMW&lt;/span> Applications</a><span class="px-1 text-primary-500">/</span>
</li>
</ol>
<h1 class="mt-0 text-4xl font-extrabold text-neutral-900 dark:text-neutral">
Thoughts on Deploying and Maintaining <span class=caps>SMW</span> Applications
</h1>
<div class="mt-8 mb-12 text-base text-neutral-500 dark:text-neutral-400">
<div class="flex flex-row items-center">
<time datetime="2010-01-25 21:24:51 +0000 UTC">25 January 2010</time>
</div>
</div>
</header>
<section class="prose dark:prose-light">
<p>In September or October of last year, I received an email from someone who had come across <a href=http://wiki.creativecommons.org/CcTeamspace><span class=caps>CC</span> Teamspace</a> and was wondering if there was a demo site available they could use to evaluate it. I told them, “No, but I can probably throw one up for you.” A month later I had to email them and say, “Sorry, but I haven’t found the time to do this, and I don’t see that changing.” This is clearly <em>not</em> the message you want to send to possible adopters of your software — “Sorry, even I can’t install it quickly.” Now part of the issue was my own <a href=http://yergler.net/blog/2010/01/02/meta/>meta/perfectionism</a> : I wanted to figure out a <span class=caps>DVCS</span> driven upgrade and maintenance mechanism at the same time. But even when I faced the fact that I didn’t really <em>need</em> to solve both problems at the same time, I quickly became frustrated by the installation process. The <span class=caps>XML</span> file I needed to import seemed to contain extraneous pages, and things seemed to have changed between MediaWiki and/or extension versions since the export was created. I kept staring at cryptic errors, struggling to figure out if I had all the dependencies installed. This is not <em>just</em> a documentation problem.</p>
<p>If we think about the application life cycle, there are a three stages a solution to this problem needs to address:[†]_</p>
<ol class="arabic simple">
<li>
Installation
</li>
<li>
Customization
</li>
<li>
Upgrade
</li>
</ol>
<p>If an extension is created using <span class=caps>PHP</span>, users can do all three (and make life considerably easier if they’re a little <span class=caps>VCS</span> savvy). But if we’re dealing with an “application” built using <a href=http://semantic-mediawiki.org/>Semantic MediaWiki</a> and other <a href=http://semantic-mediawiki.org/wiki/Help:SMW_extensions><span class=caps>SMW</span> Extensions</a> , it’s possible that there’s no <span class=caps>PHP</span> at all. If the application lives purely in the wiki, we’re left with <span class=caps>XML</span> export/import[‡]_ as the deployment mechanism. With this we get a frustrating release process, Customization support, and a sub-par Installation experience.</p>
<p>The basic problem is that we currently have two deployment mechanisms: full-fledged <span class=caps>PHP</span> extensions, and <span class=caps>XML</span> dumps. If you’re not writing <span class=caps>PHP</span>, you’re stuck with <span class=caps>XML</span> export-import, and that’s just not good enough.</p>
<p>A bit of history: When Steren created the initial release of <span class=caps>CC</span> Teamspace, he did so by exporting the pages and hand tweaking the <span class=caps>XML</span>. This is not a straight-forward, deterministic process that we want to go through every time a bug fix release is needed.</p>
<p>For users of the application, once the import (Installation) is complete (assuming it goes better than my experience), Customization is fairly straight-forward: you edit the pages. When an Upgrade comes along, though, you’re in something of a fix: how do you re-import the pages, retaining the changes you may have made? Until MediaWiki is backed by a <span class=caps>DVCS</span> with great merge handling, this is a question we’ll have to answer.</p>
<p>We brainstormed about these issues at the same time we were thinking about <a href=http://yergler.net/blog/2010/01/07/actions-for-smw-applications-hypothetically/>Actions</a> . Our initial thoughts were about making the release and installation process easier: how does a developer[◊]_ indicate <em>these pages in my wiki make up my application, and here’s some metadata about it to make life easier.</em></p>
<div class=figure>
<img alt src=http://farm3.static.flickr.com/2099/2611968330_fc742209cf.jpg>
<p class=caption>
<a class="reference external" href=http://www.flickr.com/photos/nathan_y/2611968330/>Semantic Packaging</a>
</p>
</div>
<p>We brainstormed a solution with the following features:</p>
<ol class="arabic simple">
<li>
<strong>An &#8220;Application&#8220; namespace:</strong> just as Forms, Filters, and Templates have their own namespace, an Application namespace would be used to define groups of pages that work together.
</li>
<li>
<strong>Individual Application Pages</strong>, each one defining an Application in terms of Components. In our early thinking, a Component could be a Form, a Template, a Filter, or a Category; in the latter case, only the <span class=caps>SMW</span>-related aspects of the Category would be included in the Application (ie, not any pages in the Category, on the assumption that they contain instance-specific data).
</li>
<li>
<strong>Application Metadata</strong>, such as the version[♦]_, creator, license, etc.
</li>
</ol>
<p>A nice side effect of using a wiki page to collect this information is that we now have a <span class=caps>URL</span> we can refer to for Installation. The idea was that a Special page (ie, <tt class="docutils literal">Special:Install</tt>, or <tt class="docutils literal">Special:Applications</tt>) would allow the user to enter the <span class=caps>URL</span> of an Application to install. Magical hand waving would happen, the extension dependencies would be checked, and the necessary pages would be installed.</p>
<p>While we didn’t get too far with fleshing out the Upgrade scenario, I think that a good first step would be to simply show the edit diff if the page has changed since it was Installed, and let the user sort it out. It’s not perfect, but it’d be a start.</p>
<p>I’m not sure if this is exactly the right approach to take for packaging these applications. It does effectively invent a new packaging format, which I’m somewhat wary of. At the same time, I like that it seems to utilize the same technologies in use for building these applications; there’s a certain symmetry that seems reassuring. Maybe there are other, obvious solutions I haven’t thought of. If that’s the case, I hope to find them before I clear enough time from the schedule to start hacking on this idea.</p>
<hr class=docutils>
</section>
<footer class=pt-8>
<div class="pt-8 article-pagination">
<hr class="border-dotted border-neutral-300 dark:border-neutral-600">
<div class="flex justify-between pt-3">
<span>
<a class=flex href=/2010/01/26/ugly-pretty-special-2/>
<span class="mr-3 article-pagination-direction">&larr;</span>
<span class="flex flex-col">
<span class="article-pagination-title mt-[0.1rem] leading-6">
Ugly, Pretty, Special</span>
<span class="mt-[0.1rem] text-xs text-neutral-400 dark:text-neutral-500">
<time datetime="2010-01-26 10:04:22 +0000 UTC">26 January 2010</time>
</span>
</span>
</a>
</span>
<span>
<a class="flex text-right" href=/2010/01/25/ocean-beach-between-the-storms/>
<span class="flex flex-col">
<span class="article-pagination-title mt-[0.1rem] leading-6">Ocean Beach Between the Storms</span>
<span class="mt-[0.1rem] text-xs text-neutral-400 dark:text-neutral-500">
<time datetime="2010-01-25 09:04:20 +0000 UTC">25 January 2010</time>
</span>
</span>
<span class="ml-3 article-pagination-direction">&rarr;</span>
</a>
</span>
</div>
</div>
</footer>
</article>
</main><footer class=py-10>
<nav class="pb-4 text-base font-medium text-neutral-500 dark:text-neutral-400">
<ul class="flex flex-col list-none sm:flex-row">
<li class="mb-1 sm:mb-0 sm:mr-7 sm:last:mr-0">
<a class="hover:underline hover:underline-primary-500 hover:underline-thickness-bold hover:underline-offset-small" href=/tags/ title=Tags>Tags</a>
</li>
<li class="mb-1 sm:mb-0 sm:mr-7 sm:last:mr-0">
<a class="hover:underline hover:underline-primary-500 hover:underline-thickness-bold hover:underline-offset-small" href=/categories/ title=Categories>Categories</a>
</li>
</ul>
</nav>
<div class="flex justify-between">
<div>
<p class="text-sm text-neutral-500 dark:text-neutral-400">
&copy;
2022
Nathan Yergler
</p>
</div>
</div>
</footer>
</body>
</html>