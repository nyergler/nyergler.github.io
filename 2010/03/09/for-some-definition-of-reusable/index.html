<!doctype html><html lang=en><head>
<meta charset=utf-8>
<meta http-equiv=content-language content="en">
<meta name=viewport content="width=device-width,initial-scale=1">
<meta http-equiv=x-ua-compatible content="ie=edge">
<title>For Some Definition of “Reusable” &#183; Nathan R. Yergler</title>
<meta name=title content="For Some Definition of “Reusable” &#183; Nathan R. Yergler">
<meta name=description content>
<link rel=canonical href=https://nyergler.github.io/2010/03/09/for-some-definition-of-reusable/>
<link type=text/css rel=stylesheet href=/css/schemes/ocean.min.ff17c50528c7a4a8a8bb8ec41272d63eb936ecefb9ccfa6db45cd1f5cd8b1becf8606745f751ee0d322ac80c9cb96e58aa699b38aa44cff9d2a8b3ff4f05a7b5.css integrity="sha512-/xfFBSjHpKiou47EEnLWPrk27O+5zPpttFzR9c2LG+z4YGdF91HuDTIqyAycuW5YqmmbOKpEz/nSqLP/TwWntQ==">
<link type=text/css rel=stylesheet href=/css/compiled/main.min.84c4218572228cacf6182dc59fe08b5e1bcd599bb583bc56976aa0070f4cd8a4ff130ee2313074359bf6dba03b211e8c50df743d84ad551575fd0b9f849ec802.css integrity="sha512-hMQhhXIijKz2GC3Fn+CLXhvNWZu1g7xWl2qgBw9M2KT/Ew7iMTB0NZv226A7IR6MUN90PYStVRV1/QufhJ7IAg==">
<script>function loadPreferredAppearance(){localStorage.preferredAppearance==="dark"||!("preferredAppearance"in localStorage)&&window.matchMedia("(prefers-color-scheme: dark)").matches?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")}function setPreferredAppearance(a){a=="default"?localStorage.removeItem("preferredAppearance"):localStorage.preferredAppearance=a,loadPreferredAppearance()}loadPreferredAppearance(),window.matchMedia("(prefers-color-scheme: dark)").addListener(loadPreferredAppearance)</script>
<link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png>
<link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png>
<link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png>
<link rel=manifest href=/site.webmanifest>
<meta property="og:title" content="For Some Definition of “Reusable”">
<meta property="og:description" content="I read “Why I switched to Pylons after using Django for six months” yesterday, and it mirrors something I’ve been thinking about off and on for the past year or so: what is the right level of abstraction for reuse in web applications?">
<meta property="og:type" content="article">
<meta property="og:url" content="https://nyergler.github.io/2010/03/09/for-some-definition-of-reusable/"><meta property="article:section" content="posts">
<meta property="article:published_time" content="2010-03-09T18:38:54+00:00">
<meta property="article:modified_time" content="2010-03-09T18:38:54+00:00">
<meta name=twitter:card content="summary">
<meta name=twitter:title content="For Some Definition of “Reusable”">
<meta name=twitter:description content="I read “Why I switched to Pylons after using Django for six months” yesterday, and it mirrors something I’ve been thinking about off and on for the past year or so: what is the right level of abstraction for reuse in web applications?">
<script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","articleSection":"Posts","name":"For Some Definition of “Reusable”","headline":"For Some Definition of “Reusable”","description":"I read “Why I switched to Pylons after using Django for six months” yesterday, and it mirrors something I’ve been thinking about off and on for the past year or so: what is the right level of abstraction for reuse in web applications?","inLanguage":"en","author":{"@type":"Person","name":"Nathan Yergler"},"creator":{"@type":"Person","name":"Nathan Yergler"},"copyrightHolder":"Nathan Yergler","copyrightYear":"2010","dateCreated":"2010-03-09T18:38:54\u002b00:00","datePublished":"2010-03-09T18:38:54\u002b00:00","dateModified":"2010-03-09T18:38:54\u002b00:00","url":"https:\/\/nyergler.github.io\/2010\/03\/09\/for-some-definition-of-reusable\/","wordCount":"687","keywords":["django","python","web","zope"]}</script>
<meta name=author content="Nathan Yergler">
<link href=https://github.com/nyergler rel=me>
<link href=https://instagram.com/nyergler rel=me>
</head>
<body class="flex flex-col h-screen px-6 m-auto text-lg leading-7 bg-neutral text-neutral-900 sm:px-14 md:px-24 lg:px-32 dark:bg-neutral-800 dark:text-neutral max-w-7xl"><header class="flex justify-between py-6 font-semibold sm:items-center sm:py-10 text-neutral-900 dark:text-neutral">
<div>
<a class="hover:underline hover:underline-primary-500 hover:underline-thickness-bold hover:underline-offset-small" rel=me href=/>Nathan R. Yergler</a>
</div>
<nav>
<ul class="flex flex-col list-none sm:flex-row">
<li class="mb-1 text-right sm:mb-0 sm:mr-7 sm:last:mr-0">
<a class="hover:underline hover:underline-primary-500 hover:underline-thickness-bold hover:underline-offset-small" href=/about/ title="Oh hai.">Bio</a>
</li>
<li class="mb-1 text-right sm:mb-0 sm:mr-7 sm:last:mr-0">
<a class="hover:underline hover:underline-primary-500 hover:underline-thickness-bold hover:underline-offset-small" href=/posts/ title=Posts>Blog</a>
</li>
<li class="mb-1 text-right sm:mb-0 sm:mr-7 sm:last:mr-0">
<a class="hover:underline hover:underline-primary-500 hover:underline-thickness-bold hover:underline-offset-small" href=/prints/ title=Prints>Prints</a>
</li>
</ul>
</nav>
</header>
<main class=flex-grow>
<article class=max-w-prose>
<header>
<ol class="text-sm text-neutral-500 dark:text-neutral-400">
<li class="inline hidden">
<a class="hover:underline hover:underline-neutral-300 dark:underline-neutral-600" href=/>Nathan R. Yergler</a><span class="px-1 text-primary-500">/</span>
</li>
<li class=inline>
<a class="hover:underline hover:underline-neutral-300 dark:underline-neutral-600" href=/posts/>Posts</a><span class="px-1 text-primary-500">/</span>
</li>
<li class="inline hidden">
<a class="hover:underline hover:underline-neutral-300 dark:underline-neutral-600" href=/2010/03/09/for-some-definition-of-reusable/>For Some Definition of “Reusable”</a><span class="px-1 text-primary-500">/</span>
</li>
</ol>
<h1 class="mt-0 text-4xl font-extrabold text-neutral-900 dark:text-neutral">
For Some Definition of “Reusable”
</h1>
<div class="mt-8 mb-12 text-base text-neutral-500 dark:text-neutral-400">
<div class="flex flex-row items-center">
<time datetime="2010-03-09 18:38:54 +0000 UTC">9 March 2010</time>
</div>
</div>
</header>
<section class="prose dark:prose-light">
<p>I read <a href=http://www.mutualinformation.org/2010/03/why-i-switched-to-pylons-after-using-django-for-six-months/>“Why I switched to Pylons after using Django for six months”</a> yesterday, and it mirrors something I’ve been thinking about off and on for the past year or so: what is the right level of abstraction for reuse in web applications? I’ve worked on two <a href=http://djangoproject.com/>Django</a> -based projects over the past 12-18 months: <a href=https://creativecommons.net/>CC Network</a> and <a href=http://koucou.com/>koucou</a> . Neither is what I’d call “huge”, but in both cases I wanted to re-use existing apps, and in both cases it felt… awkward.</p>
<p>Part of this awkwardness is probably the impedance mismatch of the framework and the toolchain: Django applications are Python packages. The Python tools for packaging and installing (<a href=http://www.python.org/doc/current/library/distutils.html>distutils</a> , <a href=http://pypi.python.org/pypi/setuptools>setuptools</a> , <a href=http://pypi.python.org/pypi/distribute>distribute</a> , and <a href=http://pip.openplans.org/>pip</a> , I think, although I have the least experience with it) work on “<a href=http://www.python.org/doc/current/distutils/introduction.html#distutils-specific-terminology>module distributions</a> “<sup>1</sup>: some chunk of code with a <code>setup.py</code>. This is as much a “social” issue as a technology one: the documentation and tools don’t encourage the “right” kind of behavior, so talk of re-usable applications is often just hand waving or, at best, reinvention<sup>2</sup>.</p>
<p>In both cases we consciously chose Django for what I consider its killer app: the <a href=http://docs.djangoproject.com/en/1.1/ref/contrib/admin/>admin interface</a> . But there have been re-use headaches. [NB: What follows is based on our experience, which is <a href=http://pypi.python.org/pypi/setuptools>setuptools</a> and <a href=http://buildout.org/>buildout</a> based] The first one you encounter is that not every developer of a reusable app has made it available on <a href=http://pypi.python.org/>PyPI</a> . If they’re using Subversion you can still use it with setuptools, but when re-using with git, we have some additional work (a submodule or another buildout recipe). I understand pip just works with the most commons [D]VCS, but haven’t used it myself. Additionally, they aren’t all structured as projects, and those that are don’t always declare their dependencies properly<sup>3</sup>. And finally there’s the “real” issues of templates, URL integration, etc.</p>
<p>I’m not exactly sure what the answer is, but it’s probably 80% human (as opposed to technology). Part of it is practicing good hygiene: writing your apps with <a href=http://www.chipx86.com/blog/2008/04/03/django-development-with-djblets-unrooting-your-urls/>relocatable URLs</a> , using proper <a href=http://docs.djangoproject.com/en/1.1/topics/http/urls/#reverse>URL reversal</a> when generating intra-applications URLs, and making sure your templates are somewhat self-contained. But even that only gets you so far. Right now I have to work if I want to make my app easily consumable by others; work, frankly, sucks.</p>
<p>Reuse is one area where I think <a href=http://en.wikipedia.org/wiki/Zope_3>Zope 3</a> (and it’s derived frameworks, <a href=http://grok.zope.org/>Grok</a> and <a href=http://bfg.repoze.org/>repoze.bfg</a> ) have an advantage: if you’re re-using an application that provides a particular type of model, for example, all you need to do is register a view for it to get a customized template. The liberal use of interfaces to determine context also helps smooth over some of the URL issues<sup>4</sup>. Just as, or more, importantly, they have a strong culture of writing code as small “projects” and using tools like buildout to assemble the final product.</p>
<p>Code reuse matters, and truth in advertising matters just as much or more. If we want to encourage people to write reusable applications, the tools need to support that, and we need to be explicit about what the benefits we expect to reap from reuse are.</p>
<hr>
<p><sup>1</sup> Of course you never actually see these referred to as <em>module distributions</em>; always projects, packages, eggs, or something else.</p>
<p><sup>2</sup> Note that I’m not saying that <a href=http://pylonshq.com/>Pylons</a> gets the re-use story much better; the author admits choosing Django at least in part because of the perceived “vibrant community of people writing apps” but found himself more productive with Pylons. Perhaps he entered into that with different expectations? I think it’s worth noting that we chose Django for a project, in part, for the same reason, but with different expectations: not that the vibrant community writing apps would generate reusable code, but that they would education developers we could hire when the time came.</p>
<p><sup>3</sup> This is partially due to the current state of Python packaging: setuptools and distribute expect the dependency information to be included in setup.py; pip specifies it in a requirements file.</p>
<p><sup>4</sup> At least when dealing with graph-based traversal; it could be true in other circumstances, I just haven’t thought about it enough.</p>
</section>
<footer class=pt-8>
<div class="pt-8 article-pagination">
<hr class="border-dotted border-neutral-300 dark:border-neutral-600">
<div class="flex justify-between pt-3">
<span>
<a class=flex href=/2010/03/10/meta-whats-up-with-all-the-reading/>
<span class="mr-3 article-pagination-direction">&larr;</span>
<span class="flex flex-col">
<span class="article-pagination-title mt-[0.1rem] leading-6">
Meta: What’s up with all the Reading?</span>
<span class="mt-[0.1rem] text-xs text-neutral-400 dark:text-neutral-500">
<time datetime="2010-03-10 07:04:26 +0000 UTC">10 March 2010</time>
</span>
</span>
</a>
</span>
<span>
<a class="flex text-right" href=/2010/03/06/read-spooner-by-pete-dexter/>
<span class="flex flex-col">
<span class="article-pagination-title mt-[0.1rem] leading-6">Read: “Spooner”, by Pete Dexter</span>
<span class="mt-[0.1rem] text-xs text-neutral-400 dark:text-neutral-500">
<time datetime="2010-03-06 10:04:46 +0000 UTC">6 March 2010</time>
</span>
</span>
<span class="ml-3 article-pagination-direction">&rarr;</span>
</a>
</span>
</div>
</div>
</footer>
</article>
</main><footer class=py-10>
<nav class="pb-4 text-base font-medium text-neutral-500 dark:text-neutral-400">
<ul class="flex flex-col list-none sm:flex-row">
<li class="mb-1 sm:mb-0 sm:mr-7 sm:last:mr-0">
<a class="hover:underline hover:underline-primary-500 hover:underline-thickness-bold hover:underline-offset-small" href=/tags/ title=Tags>Tags</a>
</li>
<li class="mb-1 sm:mb-0 sm:mr-7 sm:last:mr-0">
<a class="hover:underline hover:underline-primary-500 hover:underline-thickness-bold hover:underline-offset-small" href=/categories/ title=Categories>Categories</a>
</li>
</ul>
</nav>
<div class="flex justify-between">
<div>
<p class="text-sm text-neutral-500 dark:text-neutral-400">
&copy;
2022
Nathan Yergler
</p>
</div>
</div>
</footer>
</body>
</html>